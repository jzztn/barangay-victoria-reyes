generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model Resident {
  id         String     @id @default(cuid())
  verified   Boolean    @default(false)
  firstName  String
  middleName String
  lastName   String
  gender     Gender
  birthdate  DateTime
  birthplace String
  address    String
  occupation String
  contact    String
  homeowner  Boolean
  voter      Boolean
  relation   Relation   @default(HEAD)
  startedAt  DateTime
  createdAt  DateTime   @default(now())
  updatedAt  DateTime   @updatedAt
  belongToId String?
  belongTo   Resident?  @relation("BelongTo_Relatives", fields: [belongToId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  relatives  Resident[] @relation("BelongTo_Relatives")

  @@unique([firstName, middleName, lastName])
}

enum Gender {
  MALE
  FEMALE
  OTHERS
}

enum Relation {
  HEAD
  FATHER
  MOTHER
  SON
  DAUGHTER
  HUSBAND
  WIFE
  BROTHER
  SISTER
  GRANDFATHER
  GRANDMOTHER
  GRANDSON
  GRANDDAUGHTER
  UNCLE
  AUNT
  NEWPHEW
  NIECE
  COUSIN
  BOYFRIEND
  GIRLFRIEND
  OTHERS
}
